import Demo from "./demo";

<DemoCanvas>
  <Demo />
</DemoCanvas>

## 概要

`getBaseURL`は、アプリケーションが実行されている環境に応じて適切なベースURLを返します。Vercelでのホスティングやカスタムドメインにも対応しています。

- [Vercel が提供する環境変数](https://vercel.com/docs/environment-variables/system-environment-variables)
- [Vercel 環境での URLの種類](https://vercel.com/docs/deployments/generated-urls)

## 使い方

```tsx
import { getBaseURL } from "@/lib/get-base-url";

// 基本的な使い方
const baseURL = getBaseURL();

// useCommitURLオプションを使用する場合
const baseURL = getBaseURL({ useCommitURL: true });
```

## 機能

- 環境に応じたベースURLの自動判定
- Vercelホスティング対応
- カスタムドメイン対応
- 開発環境でのローカルホスト対応
- コミットURLの使用/不使用の切り替え

## パラメータ

| 名前 | 型 | 説明 |
|------|-----|------|
| `options` | `{ useCommitURL?: boolean }` | オプション設定 |
| `options.useCommitURL` | `boolean` | `true`の場合、コミットURLを使用します（デフォルト: `false`） |

## 戻り値

- 開発環境: `http://localhost:3000`
- Vercelのプレビュー環境:
  - `useCommitURL: true` の場合: `https://my-site.vercel.app`
  - `useCommitURL: false` の場合: `https://my-site-git-improve-about-page.vercel.app`
- 本番環境: `https://my-site.com`

返されるURLの末尾にはスラッシュが含まれません。ローカルホストのポートは自動的に取得されます。

## 使用例

### 基本的な使用例

```tsx
import { getBaseURL } from "@/lib/get-base-url";

function MyComponent() {
  const baseURL = getBaseURL();
  
  return (
    <div>
      <p>ベースURL: {baseURL}</p>
    </div>
  );
}
```

### コミットURLを使用する例

コミットURLはコミット単位で生成されるVercelのURLです。

```tsx
import { getBaseURL } from "@/lib/get-base-url";

function MyComponent() {
  const baseURL = getBaseURL({ useCommitURL: true });
  
  return (
    <div>
      <p>ベースURL: {baseURL}</p>
    </div>
  );
}
```

### APIエンドポイントの構築

```tsx
import { getBaseURL } from "@/lib/get-base-url";

async function fetchData() {
  const baseURL = getBaseURL();
  const response = await fetch(`${baseURL}/api/data`);
  const data = await response.json();
  return data;
}
```